---
title: 'Ajax'
author: [woodaehyun]
tags: [lang, javascript, til]
image: null
date: '2023-04-29T02:00:00.000Z'
draft: false
excerpt: '프론트엔드 개발자가 시장에서 주목받게 된 가장 큰 이유 중 하나가 바로 Ajax의 등장이 아닐까 생각한다. 오늘은 Ajax가 무엇인지 정의하고 어떤 특징을 갖고 있는지 또 어떻게 동작하는지에 대해서 정리해 보고자 한다.'
---

> #### Ajax란 무엇일까?

&nbsp;&nbsp;`Ajax`란 `Asynchronous JavaScript and XML`의 약자로 **자바스크립트를 사용하여 브라우저가 서버에게 비동기 방식으로 데이터를 요청하고 서버가 응답한 데이터를 수신하여 웹페이지를 동적으로 갱신하는 프로그래밍 방식**을 말한다. `Ajax`는 브라우저에서 제공하는 **Web API**인 `XMLHttpRequest 객체`를 기반으로 동작하고 `XMLHttpRequest 객체`는 HTTP 비동기 통신을 위한 메서드와 프로퍼티를 제공한다.

#### 그렇다면 전통적인 방식과 Ajax의 등장으로 달라진 점은 무엇일까?

&nbsp;&nbsp;마이크로소프트가 개발한 `XMLHttpRequest`는 처음에는 그다지 큰 주목을 받지 못하다가 **구글 맵스**를 통해 다시 각광받기 시작했다. 그렇다면 전통적인 방식은 어떻게 동작했던 것일까? **과거 웹페이지는 html 태그로 시작해서 html 태그로 끝나는 완전한 HTML을 서버로부터 전송받아 웹페이지 전체를 처음부터 다시 렌더링하는 방식으로 동작했다.** 그렇기 때문에 화면이 전환되면 서버로부터 새로운 HTML을 전송받아 웹페이지 전체를 처음부터 다시 렌더링했다.

```javascript
// 전통적인 방식

[ Client ]  ----Initial Request----> [Server]
                     (GET)

[ Client ]  <-------Response-------- [Server]
         (index.html / style.css / app.js)

[ Client ]  ---------Request-------> [Server]
                 (GET / login)

[ Client ]  <-------Response-------- [Server]
         (login.html / style.css / app.js)

[ Client ] 🔄PAGE RELOADED!!!🔄
```

&nbsp;&nbsp;전통적인 방식으로 동작하게 되면 구조적으로 보기에는 굉장히 직관적이긴 하나 많은 비용이 발생하게 된다. 왜냐하면 변경이 필요없는 부분까지 포함된 **완전한 HTML**을 서버로부터 매번 다시 전송받기 때문에 **불필요한 데이터 통신**이 생기고 변경할 필요가 없는 부분까지 처음부터 다시 렌더링을 하기 때문에 **화면 깜빡인 문제**가 발생한다. 또 클라이언트와 서버와의 통신이 동기 방식으로 동작하기 때문에 서버로부터 응답이 있을 때까지 그 다음 처리는 **블로킹**된다.

&nbsp;&nbsp;이러한 많은 비효율적인 방법을 획기적으로 개선한 것이 바로 `Ajax`다. 서버로부터 웹페이지의 변경에 필요한 데이터만 **비동기 방식**으로 전송받아 웹페이지를 변경할 필요가 없는 부분은 다시 렌더링하지 않고, 변경할 필요가 있는 부분만 한정적으로 렌더링하는 방식이 가능해진 것이다. 여기서 내가 생각하는 주목할 만한 개념은 **비동기 방식**이 아닐까 싶다. 만약 비동기 방식이 아니라면 화면이 깜빡이는 현상은 일어나지 않겠지만 다음 처리가 블로킹 되는 것은 마찬가지이므로 비동기 방식이 없었다면 `Ajax` 방식도 좋은 방식은 아니었을 것이다.

&nbsp;&nbsp;그리고 이러한 방식의 등장으로 내가 **F/E 개발자**를 꿈꿀 수 있게 된게 아닐까 싶다. 과거에 비해(내가 초등학교 때..를 기준으로..) 웹 애플리케이션의 복잡도가 많이 증가했고 보다 화려해졌다. 또 이를 통해 보다 좋은 사용자 경험을 만들기 위해 프론트엔드 개발자의 전문성도 같이 증가하게 된 것이라고 생각이 든다. `Ajax`방식을 통한 프로그래밍은 다음과 같은 장점이 있다.

- 변경할 부분에 해당하는 데이터만 서버로부터 전송받기 때문에 **불필요한 데이터 통신이 발생하지 않는다.**
- 변경할 필요가 없는 부분은 다시 렌더링하지 않는다.(완전한 HTML을 새롭게 받아와 다시 파싱하지 않기 때문) 따라서 **화면이 깜빡이는 현상이 발생하지 않는다.**
- 클라이언트와 서버와의 통신이 **비동기 방식**으로 동작하기 때문에 서버에게 요청을 보낸 이후 **블로킹이 발생하지 않는다.**

```javascript
// Ajax

[ Client ]  ----Initial Request----> [Server]
                     (GET)

[ Client ]  <-------Response-------- [Server]
         (index.html / style.css / app.js)

[ Client ]  ------Ajax Request-----> [Server]
                 (GET / login)

[ Client ]  <-------Response-------- [Server]
                     (JSON)

[ Client ] 🚀DOM Manipulation!!🚀
```

&nbsp;&nbsp;그리고 이러한 `Ajax`는 `XMLHttpRequest 객체`가 제공하는 HTTP 비동기 통신을 위한 **메서드**와 **프로퍼티**를 기반으로 동작한다. 그렇다면 `XMLHttpRequest`에 대해서 조금 더 알아보자!

---

> #### XMLHttpRequest

&nbsp;&nbsp;브라우저는 `주소창`이나 HTML의 `form 태그` 또는 `a 태그`를 통해 HTTP 요청 전송 기능을 기본 제공한다. 하지만 자바스크립트를 사용하여 HTTP 요청을 전송하려면 `XMLHttpRequest 객체`를 사용한다. Web API인 `XMLHttpRequest 객체`는 HTTP 요청 전송과 HTTP 응답 수신을 위한 다양한 메서드와 프로퍼티들을 제공해준다.

&nbsp;&nbsp;본 블로그에서는 문법적인 내용을 다루지 않을 생각이다. 문법적인 내용은 공식문서를 통해 직접 확인하는게 가장 정확하기 때문에 Ajax 방식에 대한 정의와 동작원리를 보다 쉽게 정리하면서 이해하고자 한다. 따라서 다음 mdn 문서들을 참조하면 `XMLHttpRequest 객체`에 대한 사용방법을 익히는 것이 더 좋을 것 같다.(~~절대 귀찮아서 그런것은 아니다.~~ 오해하지 말아주세요!🥹)

<a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest">XMLHttpRequest 사용 방법 [from mdn]</a>

---

> #### 느낀점

&nbsp;&nbsp;우선 대략적인 순서를 따져보자면 xhr(XMLHttpRequest)를 사용하기 위해서는 `xhr 객체`를 `new 연산자`와 함께 생성해야 하고, 이를 `open` 메서드로 **초기화**한 후 필요에 따라서는 `setRequestHeader` 메서드로 **헤더 값을 설정**한다. 그리고 `send` 메서드로 HTTP **요청을 전송**한다. 또 JSON으로 페이로드를 주고 받는 경우에는 **직렬화**와 **역직렬화**를 통해 데이터를 다시 가공해야 하고, 에러 처리를 위해서는 `xhr 객체`의 프로퍼티들을 통해서 직접 **200OK** 인지 확인하는 작업도 거쳐야 한다.

###### 복잡한게 벌써 느껴진다.

**fetch API**나 **axios**를 사용하여 자바스크립트로 비동기 통신을 할 때와 많은 비교가 되는 것은 사실이다. 특히 `Promise`를 지원하는지에 대한 문제가 가장 큰 문제이지 않을까 싶다. **하지만 그럼에도 이것을 알아둬야 한다고 생각한다!** 중요한 것은 Ajax 방식이 과거의 방식과 비교했을 때 어떠한 차이점이 있고 또 어떤 이점을 가져다 주었는지 정확하게 알고 있는 것이라고 생각한다. 그리고 비동기로 동작하기 때문에 발생하는 `후속 처리 문제`, `에러 처리` 또 이것들과 떨어질 수 없는 개념인 `Promise`를 이해하는데도 좋은 배경 지식이 될 것이라고 생각한다.

&nbsp;&nbsp;공부를 하면서 많은 레퍼런스를 참조하고 다른 글들도 많이 봤지만 `Ajax`에 대한 정의가 조금씩은 달랐다. 어떤 글에서는 내가 처음 정의한 내용처럼 **'자바스크립트를 이용하여 HTTP 비동기 통신을 하고 필요한 데이터만 받아와 동적으로 웹 페이지를 조작하는 프로그래밍 방식'** 이라고 설명하는 곳도 있었고 **'xhr을 이용해서 HTTP 비동기 통신~~~'** 이라고 표현한 글들도 많이 있었다.

&nbsp;&nbsp;전자의 사전적 정의가 정확한 의미라면 xhr뿐만 아니라 fetch, axios 모두 ajax 방식에 해당하는 것이고, 만약 후자의 의미가 맞다면 내부적으로 xhr객체를 통해 동작하는 API들만 Ajax에 해당하는 것이다. axios의 경우 내부적으로 xhr 객체를 만든다고 알고 있지만 fetch의 경우에는 별도의 xhr 객체를 만들지 않는 것으로 알고 있다. 이렇게 되면 fetch는 Ajax 방식에 해당하지 않는 것인가? 내 생각은 '아니다' 이다. Ajax에 대한 정확한 의미는 처음 정의한 내용대로 **자바스크립트를 사용하여 브라우저가 서버에게 비동기 방식으로 데이터를 요청하고 서버가 응답한 데이터를 수신하여 웹페이지를 동적으로 갱신하는 프로그래밍 방식**을 의미하는 것이라고 생각한다. 이렇게 정확한 개념에 대한 정의를 해두어야 기준점이 생기고 용어적으로 생기는 혼란을 방지할 수 있다.

&nbsp;&nbsp;말이 조금 삼천포로 빠진것 같은데 어쨌든 **Ajax 방식의 등장을** 개발 시장에 획기적인 변화를 불러 온! 우리 F/E 개발자가 설 자리가 많아 질 수 있도록 한! **`역사적 사건`이라고 감히 표현하고 싶다!** 🤗
